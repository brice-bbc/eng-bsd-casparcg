FROM nvidia/cuda:11.0.3-devel-ubuntu18.04

RUN apt-get update && apt-get install -yq --no-install-recommends \
        autoconf \
        automake \
        curl \
        bzip2 \
        clang \
        g++ \
        gcc \
        git \
        gperf \
        libtool \
        make \
        nasm \
        perl \
        pkg-config \
        python \
        yasm \
        zlib1g-dev \
        libexpat1-dev \
        lsb-release \
        libglew-dev \
        libfreeimage-dev \
        libtbb-dev \
        libopenal-dev \
        libxcursor-dev \
        libxinerama-dev \
        libxi-dev \
        libnih-dbus-dev \
        libsfml-dev \
        libxrandr-dev \
        libudev-dev \
        libglu1-mesa-dev \
        libharfbuzz0b \
        libpangoft2-1.0-0 \
        libcairo2 \
        libv4l-0 \
        libraw1394-11 \
        libavc1394-0 \
        libiec61883-0 \
        libxtst6 \
        libnss3 \
        libnspr4 \
        libgconf-2-4 \
        libasound2 \
        libopus-dev \
        libgsm1-dev \
        libmodplug-dev \
        libvpx-dev \
        libass-dev \
        libbluray-dev \
        libfribidi-dev \
        libgmp-dev \
        libgnutls28-dev \
        libmp3lame-dev \
        libopencore-amrnb-dev \
        libopencore-amrwb-dev \
        librtmp-dev \
        libtheora-dev \
        libx264-dev \
        libxvidcore-dev \
        libx265-dev \
        libxss1 \
        libgtk2.0-0 \
        libatspi2.0-dev \
        libatk-bridge2.0-dev \
        libopenjp2-7-dev \
        libopenmpt-dev \
        libshine-dev \
        libsnappy-dev \
        libsoxr-dev \
        libspeex-dev \
        libtwolame-dev \
        libvo-amrwbenc-dev \
        libwavpack-dev \
        libsdl2-dev \
        wget \
        build-essential \
        libssl-dev \
        libwebp-dev \
        liblzma-dev \
        cmake \
        dpkg-dev \
        file \
        imagemagick \
        libbz2-dev \
        libc6-dev \
        libcurl4-openssl-dev \
        libdb-dev \
        libevent-dev \
        libffi-dev \
        libgdbm-dev \
        libglib2.0-dev \
        libjpeg-dev \
        libkrb5-dev \
        libmagickcore-dev \
        libmagickwand-dev \
        libmaxminddb-dev \
        libncurses5-dev \
        libncursesw5-dev \
        libpng-dev \
        libpq-dev \
        libreadline-dev \
        libsqlite3-dev \
        libxml2-dev \
        libxslt-dev \
        libyaml-dev \
        patch \
        unzip \
        xz-utils \
        nano \
        libnpp-11-0 \
        libnpp-dev-11-0 \


# CMake from scratch
#    RUN wget https://github.com/Kitware/CMake/releases/download/v3.19.8/cmake-3.19.8.tar.gz && tar -zxvf cmake-3.19.8.tar.gz
#    WORKDIR cmake-3.19.8
#    RUN ./bootstrap
#    RUN make
#    RUN make install